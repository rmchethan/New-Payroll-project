<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>German Payroll Calculator</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<h1>German Payroll Calculator</h1>

<table id="inputTable">

  <!-- Employee type -->
  <tr>
    <td><label for="employeeType">BeschÃ¤ftigungsart</label></td>
    <td>
      <select id="employeeType" onchange="toggleEmployeeType()">
        <option value="normal">Normaler Arbeitnehmer</option>
        <option value="midijob">Ãœbergangsbereich (Midijob)</option>
        <option value="minijob">Minijob</option>
        <option value="praktikant">Praktikant</option>
        <option value="azubi">Azubi</option>
      </select>
    </td>
  </tr>

  <!-- Minijob RV -->
  <tr id="minijobRVBlock" style="display:none">
    <td colspan="2">
      <label>
        <input type="checkbox" id="minijobRVExempt" checked>
        RV-Befreiung (Arbeitnehmer zahlt keine 3.6% RV)
      </label>
    </td>
  </tr>

  <!-- Brutto -->
  <tr>
    <td><label for="brutto">Bruttogehalt (â‚¬)</label></td>
    <td><input type="number" id="brutto" min="0" step="0.01"></td>
  </tr>

  <!-- Steuerklasse -->
  <tr>
    <td><label for="steuerklasse">Steuerklasse</label></td>
    <span onclick="openModal(infoContent.Steuerklasse)" style="cursor:pointer;">â„¹</span>
    <td>
      <select id="steuerklasse">
        <option value="1">I</option>
        <option value="2">II</option>
        <option value="3">III</option>
        <option value="4">IV</option>
        <option value="5">V</option>
        <option value="6">VI</option>
      </select>
    </td>
  </tr>

  <!-- Bundesland -->
  <tr>
    <td>Bundesland</td>
    <span onclick="openModal(infoContent.Bundesland)" style="cursor:pointer;">â„¹</span>
    <td>
      <select id="state">
        <option value="BW">Baden-WÃ¼rttemberg</option>
        <option value="BY">Bayern</option>
        <option value="BE">Berlin</option>
        <option value="BB">Brandenburg</option>
        <option value="HB">Bremen</option>
        <option value="HH">Hamburg</option>
        <option value="HE">Hessen</option>
        <option value="MV">Mecklenburg-Vorpommern</option>
        <option value="NI">Niedersachsen</option>
        <option value="NW">Nordrhein-Westfalen</option>
        <option value="RP">Rheinland-Pfalz</option>
        <option value="SL">Saarland</option>
        <option value="SN">Sachsen</option>
        <option value="ST">Sachsen-Anhalt</option>
        <option value="SH">Schleswig-Holstein</option>
        <option value="TH">ThÃ¼ringen</option>
      </select>
    </td>
  </tr>

  <!-- Kirchensteuer -->
  <tr>
    <td>Kirchensteuerpflichtig</td>
    <span onclick="openModal(infoContent.Kirchensteuerpflichtig)" style="cursor:pointer;">â„¹</span>
    <td><input type="checkbox" id="kirchensteuer"></td>
  </tr>

  <!-- Geburtsdatum -->
  <tr>
    <td>Geburtsdatum</td>
    <span onclick="openModal(infoContent.Geburtsdatum)" style="cursor:pointer;">â„¹</span>
    <td><input type="date" id="dob"></td>
  </tr>

  <!-- Kinder -->
  <tr>
    <td>Anzahl Kinder</td>
    <span onclick="openModal(infoContent.Kinder)" style="cursor:pointer;">â„¹</span>
    <td>
      <select id="children">
        <option value="0">0</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 oder mehr</option>
      </select>
    </td>
  </tr>

  <!-- Ãœberstunden -->
  <tr>
    <td>
      Ãœberstunden (Stunden)
      <span onclick="openModal(infoContent.ueberstunden)" style="cursor:pointer;">â„¹</span>
    </td>
    <td><input type="number" id="ueberstunden" value="0"></td>
  </tr>

  <!-- VWL -->
  <tr>
    <td>
      VWL AG Zuschuss (â‚¬)
      <span onclick="openModal(infoContent.vwl)" style="cursor:pointer;">â„¹</span>
    </td>
    <td><input type="number" id="vwl" value="0"></td>
  </tr>

  <!-- Nacht 25% -->
  <tr>
    <td>
      Nachtstunden 25%
      <span onclick="openModal(infoContent.nacht25)" style="cursor:pointer;">â„¹</span>
    </td>
    <td><input type="number" id="nacht25" value="0"></td>
  </tr>

  <!-- Nacht 40% -->
  <tr>
    <td>
      Nachtstunden 40%
      <span onclick="openModal(infoContent.nacht40)" style="cursor:pointer;">â„¹</span>
    </td>
    <td><input type="number" id="nacht40" value="0"></td>
  </tr>

  <!-- Sonntag 50% -->
  <tr>
    <td>
      Sonntagstunden 50%
      <span onclick="openModal(infoContent.sonntag50)" style="cursor:pointer;">â„¹</span>
    </td>
    <td><input type="number" id="sonntag50" value="0"></td>
  </tr>

  <!-- Feiertag 125% -->
  <tr>
    <td>
      Feiertagstunden 125%
      <span onclick="openModal(infoContent.feiertag125)" style="cursor:pointer;">â„¹</span>
    </td>
    <td><input type="number" id="feiertag125" value="0"></td>
  </tr>

  <!-- Jobticket -->
  <tr>
    <td>
      Jobticket (â‚¬)
      <span onclick="openModal(infoContent.jobticket)" style="cursor:pointer;">â„¹</span>
    </td>
    <td><input type="number" id="jobticket" value="0"></td>
  </tr>

</table>

<!-- Calculate Button -->
<div style="text-align:center; margin-top:15px;">
  <button onclick="calculateNetto()">Berechnen</button>
</div>

<!-- Output -->
<h2>Ergebnis</h2>
<p id="output">Bitte Werte eingeben</p>

<!-- Collapsible Explanation Panel -->
<button id="toggleExplanationBtn" onclick="toggleExplanation()" 
        style="width:100%; padding:10px; font-weight:bold; margin-top:15px;">
  ðŸ“˜ Berechnungslogik anzeigen
</button>

<div id="explanationWrapper" style="display:none; border:1px solid #ccc; padding:10px; margin-top:10px;">
  <div id="expContent"></div>
</div>

<!-- Modal -->
<div id="infoModal" class="modal">
  <div class="modal-content">
    <span class="close-btn" onclick="closeModal()">&times;</span>
    <div id="modalBody"></div>
  </div>
</div>

<p>
  <small>
    Hinweis: Dies ist ein Lern- und Demonstrationstool.
    Alle Berechnungen sind vereinfacht und nicht rechtsverbindlich.
  </small>
</p>

<script src="script.js"></script>

</body>
</html>

